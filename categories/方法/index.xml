<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>方法 on 清松小站</title><link>https://coderqs.github.io/categories/%E6%96%B9%E6%B3%95/</link><description>Recent content in 方法 on 清松小站</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Mon, 11 Mar 2019 00:00:00 +0800</lastBuildDate><atom:link href="https://coderqs.github.io/categories/%E6%96%B9%E6%B3%95/index.xml" rel="self" type="application/rss+xml"/><item><title>编译机环境管理方法</title><link>https://coderqs.github.io/2019/03/%E7%BC%96%E8%AF%91%E6%9C%BA%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86%E6%96%B9%E6%B3%95/</link><pubDate>Mon, 11 Mar 2019 00:00:00 +0800</pubDate><guid>https://coderqs.github.io/2019/03/%E7%BC%96%E8%AF%91%E6%9C%BA%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86%E6%96%B9%E6%B3%95/</guid><description>&lt;h1 id="编译机环境管理方法">编译机环境管理方法&lt;/h1>
&lt;h2 id="以用户的方式管理">以用户的方式管理&lt;/h2>
&lt;h3 id="说明">说明&lt;/h3>
&lt;ol>
&lt;li>创建一个&lt;code>compiler&lt;/code>用户
&lt;ul>
&lt;li>这个用户用于系统默认编译器的的编译&lt;/li>
&lt;li>该用户的家目录下存放所有代码&lt;/li>
&lt;li>&lt;strong>所有添加的其他编译用户都处于&lt;code>compiler&lt;/code>中户组&lt;/strong>（给&lt;code>compiler&lt;/code>设置 SGID 可以使其下面的文件夹都默认处于&lt;code>compiler&lt;/code>组里）&lt;/li>
&lt;li>&lt;strong>该用户家目录的所有代码都要给组用户写权限&lt;/strong>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>创建用户，以 NDK 为例，&lt;code>%%android-ndk-r13b-linux-x86_64&lt;/code> 对应的用户名 &lt;code>android-ndk-r13&lt;/code>&lt;/li>
&lt;li>将编译器安装在对应的用户家目录中&lt;/li>
&lt;li>将需要的环境变量配置在用户的&lt;code>.bash_prefile&lt;/code>中&lt;/li>
&lt;li>配置&lt;code>umask&lt;/code>，给组与用户同样的权限&lt;/li>
&lt;/ol>
&lt;h3 id="优缺点">优缺点&lt;/h3>
&lt;h4 id="优点">优点&lt;/h4>
&lt;p>可以使不同的编译环境隔离开，不会相互影响，也方便维护&lt;/p>
&lt;h4 id="缺点">缺点&lt;/h4>
&lt;p>代码集中在&lt;code>compiler&lt;/code>用户的家目录下，丧失对代码的权限管理。&lt;/p>
&lt;h3 id="演示配置-android-ndk-r13-用户">演示配置 android-ndk-r13 用户&lt;/h3>
&lt;div class="highlight">&lt;div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">3
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>adduser android-ndk-r13 -g compiler
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">echo&lt;/span> &lt;span style="color:#ed9d13">&amp;#34;umask 002&amp;#34;&lt;/span> &amp;gt;&amp;gt; /home/android-ndk-r13/.bashrc
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>su - android-ndk-r13
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>unzip android-ndk-r13b-linux-x86_64.zip
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="配置环境变量">配置环境变量&lt;/h4>
&lt;p>在&lt;code>~/bash_prefile&lt;/code>中添加下面&lt;/p>
&lt;div class="highlight">&lt;div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 3
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 4
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 5
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 6
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 7
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 8
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 9
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">10
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">11
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">12
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">13
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">14
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">15
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">16
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">17
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">18
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">19
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">20
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">21
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">22
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">NDKROOT&lt;/span>=/home/android-ndk-r13/android-ndk-r13b
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">PATH&lt;/span>=&lt;span style="color:#40ffff">$NDKROOT&lt;/span>:&lt;span style="color:#40ffff">$PATH&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#40ffff">INSTALLATION_PATH&lt;/span>=/home/output/android-ndk-r13
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">prefix&lt;/span>=&lt;span style="color:#40ffff">$INSTALLATION_PATH&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">ANDROID_HOME&lt;/span>=~/android-ndk-r13b
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">TOOLCHAIN&lt;/span>=&lt;span style="color:#40ffff">$ANDROID_HOME&lt;/span>/android-toolchain
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">CROSS_SYSROOT&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/sysroot
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">PATH&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/bin:&lt;span style="color:#40ffff">$PATH&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">TOOL&lt;/span>=arm-linux-androideabi
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">CC&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/bin/&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">TOOL&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>-gcc
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">CXX&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/bin/&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">TOOL&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>-g++
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">LINK&lt;/span>=&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">CXX&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">LD&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/bin/&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">TOOL&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>-ld
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">AR&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/bin/&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">TOOL&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>-ar
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">RANLIB&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/bin/&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">TOOL&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>-ranlib
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">STRIP&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/bin/&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">TOOL&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>-strip
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">ARCH_FLAGS&lt;/span>=&lt;span style="color:#ed9d13">&amp;#34;-mthumb&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">ARCH_LINK&lt;/span>=
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">CFLAGS&lt;/span>=&lt;span style="color:#ed9d13">&amp;#34;&lt;/span>&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">ARCH_FLAGS&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>&lt;span style="color:#ed9d13"> -fpic -ffunction-sections -funwind-tables -fstack-protector -fno-strict-aliasing -finline-limit=64&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">CXXFLAGS&lt;/span>=&lt;span style="color:#ed9d13">&amp;#34;&lt;/span>&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">CFLAGS&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>&lt;span style="color:#ed9d13"> -frtti -fexceptions&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">LDFLAGS&lt;/span>=&lt;span style="color:#ed9d13">&amp;#34;&lt;/span>&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">ARCH_LINK&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>&lt;span style="color:#ed9d13">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="配置文件的方式管理">配置文件的方式管理&lt;/h2>
&lt;h3 id="说明-1">说明&lt;/h3>
&lt;p>将编译环境所需的配置写在文件中，需要加载编译环境时使用 &lt;code>source&lt;/code> 加载配置文件来导入编译环境。&lt;/p>
&lt;h3 id="优缺点-1">优缺点&lt;/h3>
&lt;p>该方法较方便的导入编译环境，但是切换环境时旧的环境依旧会保留下来，可能会产生干扰，但是这种方法用在编译脚本中会比较好。&lt;/p>
&lt;h3 id="示例">示例&lt;/h3>
&lt;p>同样以配置 android-ndk-r13 为例。&lt;/p>
&lt;h4 id="添加配置文件">添加配置文件&lt;/h4>
&lt;p>创建 &lt;code>/opt/android-ndk/env/&lt;/code> 目录，添加文件 &lt;code>ndk-r13-arm64-api21&lt;/code>，在文件中添加下面内容&lt;/p>
&lt;div class="highlight">&lt;div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 3
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 4
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 5
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 6
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 7
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 8
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 9
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">10
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">11
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">12
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">13
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">14
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">15
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">16
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">17
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">18
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">19
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">20
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">21
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">22
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">NDKROOT&lt;/span>=/opt/android-ndk/android-ndk-r13b
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">PATH&lt;/span>=&lt;span style="color:#40ffff">$NDKROOT&lt;/span>:&lt;span style="color:#40ffff">$PATH&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#40ffff">INSTALLATION_PATH&lt;/span>=~/output/android-ndk-r13
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">prefix&lt;/span>=&lt;span style="color:#40ffff">$INSTALLATION_PATH&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">ANDROID_HOME&lt;/span>=&lt;span style="color:#40ffff">$NDKROOT&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">TOOLCHAIN&lt;/span>=&lt;span style="color:#40ffff">$ANDROID_HOME&lt;/span>/android-toolchain
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">CROSS_SYSROOT&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/sysroot
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">PATH&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/bin:&lt;span style="color:#40ffff">$PATH&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">TOOL&lt;/span>=arm-linux-androideabi
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">CC&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/bin/&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">TOOL&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>-gcc
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">CXX&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/bin/&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">TOOL&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>-g++
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">LINK&lt;/span>=&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">CXX&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">LD&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/bin/&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">TOOL&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>-ld
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">AR&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/bin/&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">TOOL&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>-ar
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">RANLIB&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/bin/&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">TOOL&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>-ranlib
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">STRIP&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/bin/&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">TOOL&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>-strip
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">ARCH_FLAGS&lt;/span>=&lt;span style="color:#ed9d13">&amp;#34;-mthumb&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">ARCH_LINK&lt;/span>=
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">CFLAGS&lt;/span>=&lt;span style="color:#ed9d13">&amp;#34;&lt;/span>&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">ARCH_FLAGS&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>&lt;span style="color:#ed9d13"> -fpic &amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">CXXFLAGS&lt;/span>=&lt;span style="color:#ed9d13">&amp;#34;&lt;/span>&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">CFLAGS&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>&lt;span style="color:#ed9d13"> -frtti -fexceptions&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">LDFLAGS&lt;/span>=&lt;span style="color:#ed9d13">&amp;#34;&lt;/span>&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">ARCH_LINK&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>&lt;span style="color:#ed9d13">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>保存即可，当需要切换环境时执行&lt;/p>
&lt;div class="highlight">&lt;div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>source /opt/android-ndk/env/ndk-r13-arm64-api21
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="参考资料">参考资料&lt;/h3>
&lt;p>&lt;a class="link" href="https://blog.csdn.net/u010554294/article/details/88996397" target="_blank" rel="noopener"
>linux下如何实现不同的用户对同一文件都有写权限&lt;/a>&lt;br>
&lt;a class="link" href="https://www.cnblogs.com/qiuhom-1874/p/9838468.html" target="_blank" rel="noopener"
>Linux系统之文件的SUID、SGID、Sticky权限说明&lt;/a>&lt;/p></description></item><item><title>软件版本的管理方法</title><link>https://coderqs.github.io/2019/03/%E8%BD%AF%E4%BB%B6%E7%89%88%E6%9C%AC%E7%9A%84%E7%AE%A1%E7%90%86%E6%96%B9%E6%B3%95/</link><pubDate>Mon, 11 Mar 2019 00:00:00 +0800</pubDate><guid>https://coderqs.github.io/2019/03/%E8%BD%AF%E4%BB%B6%E7%89%88%E6%9C%AC%E7%9A%84%E7%AE%A1%E7%90%86%E6%96%B9%E6%B3%95/</guid><description>&lt;h1 id="软件版本的管理方法">软件版本的管理方法&lt;/h1></description></item><item><title>搜索引擎的使用</title><link>https://coderqs.github.io/2019/03/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E7%9A%84%E4%BD%BF%E7%94%A8/</link><pubDate>Mon, 11 Mar 2019 00:00:00 +0800</pubDate><guid>https://coderqs.github.io/2019/03/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E7%9A%84%E4%BD%BF%E7%94%A8/</guid><description>&lt;h1 id="搜索引擎的使用">搜索引擎的使用&lt;/h1>
&lt;h2 id="常用的指令">常用的指令&lt;/h2>
&lt;h3 id="1--双引号">1. &amp;quot; (双引号)&lt;/h3>
&lt;p>把搜索词放在双引号（英文半角）中，代表完全匹配搜索，也就是说搜索结果返回的页面包含双引号中出现的所有的词，连顺序也必须完全匹配。&lt;strong>Google和百度都支持这个指令&lt;/strong>。
例如：&lt;/p>
&lt;blockquote>
&lt;p>&amp;ldquo;seo方法图片&amp;rdquo;&lt;/p>
&lt;/blockquote>
&lt;h3 id="2---减号">2. - (减号)&lt;/h3>
&lt;p>代表搜索不包含减号后面的词的页面。&lt;strong>使用这个指令时减号前面必须是空格，减号后面没有空格，紧跟着需要排除的词&lt;/strong>。&lt;strong>Google和百度都支持这个指令&lt;/strong>。
例如：&lt;/p>
&lt;blockquote>
&lt;p>搜索 -引擎&lt;/p>
&lt;/blockquote>
&lt;p>返回的结果中包含搜索但不包含引擎&lt;/p>
&lt;h3 id="3--星号">3. * (星号)&lt;/h3>
&lt;p>是常用的通配符，也可以用在搜索中。&lt;strong>百度不支持 * 号搜索指令&lt;/strong>。 例如：&lt;/p>
&lt;blockquote>
&lt;p>搜索*擎&lt;/p>
&lt;/blockquote>
&lt;p>其中的*号代表任何文字。返回的结果就不仅包含“搜索引擎”，还包含了“搜索收擎”，“搜索巨擎”等内容。&lt;/p>
&lt;h3 id="4-波浪线">4. ~(波浪线)&lt;/h3>
&lt;p>代表搜索包含这个词以及合适的近义词的页面。&lt;strong>貌似百度不支持该搜索指令&lt;/strong>
例如：&lt;/p>
&lt;blockquote>
&lt;p>~elderly&lt;/p>
&lt;/blockquote>
&lt;p>所得到的页面就会不仅是包括“elderly”这个词，还会有包括“senior”、“older”、“aged”等等词的页面。&lt;/p>
&lt;h3 id="5-inurl">5. inurl&lt;/h3>
&lt;p>inurl: 指令用于搜索查询词出现在url 中的页面，inurl
指令支持中文和英文。&lt;strong>百度和Google都支持这个指令&lt;/strong>。 例如：&lt;/p>
&lt;blockquote>
&lt;p>inurl:搜索引擎优化&lt;/p>
&lt;/blockquote>
&lt;p>返回的结果都是网址url 中包含“搜索引擎优化”的页面。由于关键词出现在url
中对排名有一定影响，使用inurl:搜索可以更准确地找到竞争对手。&lt;/p>
&lt;h3 id="6-inanchor">6. inanchor&lt;/h3>
&lt;p>inanchor:指令返回的结果是导入链接锚文字中包含搜索词的页面。&lt;strong>百度不支持inanchor&lt;/strong>。
例如：&lt;/p>
&lt;blockquote>
&lt;p>inanchor:点击这里&lt;/p>
&lt;/blockquote>
&lt;p>返回的结果页面本身并不一定包含“点击这里”这四个字，而是指向这些页面的链接锚文字中出现了“点击这里”这四个字。&lt;/p>
&lt;h3 id="7-intitle">7. intitle&lt;/h3>
&lt;p>intitle: 指令返回的是页面title
中包含关键词的页面。&lt;strong>Google和百度都支持这个指令&lt;/strong>。 使用intitle
指令找到的文件是更准确的竞争页面。如果关键词只出现在页面可见文字中，而没有出现在title
中，大部分情况是并没有针对关键词进行优化，所以也不是有力的竞争对手。&lt;/p>
&lt;h3 id="8-allintitle">8. allintitle&lt;/h3>
&lt;p>allintitle:搜索返回的是页面标题中包含多组关键词的文件，&lt;strong>Google和百度都支持这个指令&lt;/strong>。
例如：&lt;/p>
&lt;blockquote>
&lt;p>allintitle:SEO 搜索引擎优化&lt;/p>
&lt;/blockquote>
&lt;p>就相当于：intitle:SEO
intitle:搜索引擎优化，返回的是标题中中既包含“SEO”，也包含“搜索引擎优化”的页面&lt;/p>
&lt;h3 id="9-allinurl">9. allinurl&lt;/h3>
&lt;p>与allintitle: 类似，&lt;strong>Google和百度都支持这个指令&lt;/strong>。 例如：&lt;/p>
&lt;blockquote>
&lt;p>allinurl:SEO 搜索引擎优化&lt;/p>
&lt;/blockquote>
&lt;p>就相当于：inurl:SEO inurl:搜索引擎优化&lt;/p>
&lt;h3 id="10-filetype">10. filetype&lt;/h3>
&lt;p>用于搜索特定文件格式，&lt;strong>Google和百度都支持这个指令&lt;/strong>。 例如：&lt;/p>
&lt;blockquote>
&lt;p>filetype:pdf SEO&lt;/p>
&lt;/blockquote>
&lt;p>返回的就是包含SEO 这个关键词的所有pdf 文件。&lt;/p>
&lt;h3 id="11-site">11. site&lt;/h3>
&lt;p>site:是SEO
最熟悉的高级搜索指令，用来搜索某个域名下的所有文件，&lt;strong>Google和百度都支持这个指令&lt;/strong>。&lt;/p>
&lt;blockquote>
&lt;p>site:&lt;a class="link" href="http://cnseotool.com" target="_blank" rel="noopener"
>http://cnseotool.com&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;h3 id="12-linkdomain">12. linkdomain&lt;/h3>
&lt;p>&lt;strong>linkdomain:指令只适用于雅虎&lt;/strong>，返回的是某个域名的反向链接。雅虎的反向链接数据还比较准
确，是 SEO 人员研究竞争对手外部链接情况的重要工具之一。 例如：&lt;/p>
&lt;blockquote>
&lt;p>linkdomain:&lt;a class="link" href="http://cnseotool.com" target="_blank" rel="noopener"
>http://cnseotool.com&lt;/a> -site:&lt;a class="link" href="http://cnseotool.com" target="_blank" rel="noopener"
>http://cnseotool.com&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>得到的就是点石网站的外部链接，因为 &lt;code>-site:&amp;lt;http://cnseotool.com&amp;gt;&lt;/code> 已经排除了点石本身的页面，也就是内部 链接，剩下的就都是外部链接了。&lt;/p>
&lt;h3 id="13-related">13. related&lt;/h3>
&lt;p>related:指令&lt;strong>只适用于Google&lt;/strong>，返回的结果是与某个网站有关联的页面。
例如：&lt;/p>
&lt;blockquote>
&lt;p>related:&lt;a class="link" href="http://cnseotool.com" target="_blank" rel="noopener"
>http://cnseotool.com&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>我们就可以得到Google 所认为的与点石网站有关联的其他页面。这种关联到底指的是什么，Google 并没有明确说明，一般认为指的是有共同外部链接的网站。&lt;/p></description></item></channel></rss>