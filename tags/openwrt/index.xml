<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>openwrt on 清松小站</title><link>https://coderqs.github.io/tags/openwrt/</link><description>Recent content in openwrt on 清松小站</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Mon, 11 Mar 2019 00:00:00 +0800</lastBuildDate><atom:link href="https://coderqs.github.io/tags/openwrt/index.xml" rel="self" type="application/rss+xml"/><item><title>小米路由器 mini 刷 openwrt</title><link>https://coderqs.github.io/2019/03/%E5%B0%8F%E7%B1%B3%E8%B7%AF%E7%94%B1%E5%99%A8-mini-%E5%88%B7-openwrt/</link><pubDate>Mon, 11 Mar 2019 00:00:00 +0800</pubDate><guid>https://coderqs.github.io/2019/03/%E5%B0%8F%E7%B1%B3%E8%B7%AF%E7%94%B1%E5%99%A8-mini-%E5%88%B7-openwrt/</guid><description>&lt;h1 id="小米路由器-mini-刷-openwrt">小米路由器 mini 刷 openwrt&lt;/h1>
&lt;h2 id="将系统刷成开发版">将系统刷成开发版&lt;/h2>
&lt;ol>
&lt;li>在 &lt;a class="link" href="http://www1.miwifi.com/miwifi_download.html" target="_blank" rel="noopener"
>MiWiFi&lt;/a> 下载路由器对应的 ROM 开发版，版本&lt;a class="link" href="http://bigota.miwifi.com/xiaoqiang/rom/r1cm/miwifi_r1cm_firmware_2e9b9_2.21.109.bin" target="_blank" rel="noopener"
>2.21.109&lt;/a>&lt;/li>
&lt;/ol>
&lt;h2 id="安装-miwifi_ssh">安装 miwifi_ssh&lt;/h2>
&lt;ol>
&lt;li>在 &lt;a class="link" href="http://www1.miwifi.com/miwifi_open.html" target="_blank" rel="noopener"
>MiWiFi 开发&lt;/a>页面点击 “开启 SSH 工具” 下载 SSH 工具 &lt;code>miwifi_ssh.bin&lt;/code>&lt;/li>
&lt;li>将路由器绑定小米账号后，在页面会显示 root 的密码&lt;/li>
&lt;li>将 &lt;code>miwifi_ssh.bin&lt;/code> 放入 U 盘，删除 U 盘上的其他文件，其他操作与刷 ROM 一致&lt;/li>
&lt;/ol>
&lt;h2 id="刷成-openwrt">刷成 OpenWrt&lt;/h2>
&lt;p>在 OpenWrt 的官网下载对应版本的固件，我的是&lt;a class="link" href="https://openwrt.org/toh/xiaomi/mini" target="_blank" rel="noopener"
>小米路由器 MINI&lt;/a>，其他型号的路由器可以在官网的&lt;a class="link" href="https://openwrt.org/toh/views/toh_fwdownload" target="_blank" rel="noopener"
>Table of Hardware: Firmware downloads&lt;/a>中搜索下载&lt;/p>
&lt;div class="highlight">&lt;div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>scp openwrt*.bin root@192.168.31.1:/tmp
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cd /tmp
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>mtd -r write openwrt*.bin firmware
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>如遇以下报错，改 &lt;code>firmware&lt;/code> 为 &lt;code>OS1&lt;/code> 即可&lt;/p>
&lt;div class="highlight">&lt;div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>Could not open mtd device: firmware
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Can&amp;#39;t open device for writing!
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h1 id="修改官方源">修改官方源&lt;/h1>
&lt;p>&lt;strong>注意：不同 CPU 的路由器的 OpenWrt 源的配置不完全相同，需要根据 CPU 的型号来配置，小米路由器 MINI 的 CPU 是 MT7620A&lt;/strong>&lt;br>
源配置文件的路径: &lt;code>/etc/opkg/distfeeds.conf&lt;/code>，将官方源注释掉后填入下面的源&lt;/p>
&lt;div class="highlight">&lt;div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">3
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">4
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">5
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>src/gz reboot_core http://mirrors.ustc.edu.cn/openwrt/releases/19.07.5/targets/ramips/mt7620/packages
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>src/gz reboot_base http://mirrors.ustc.edu.cn/openwrt/releases/19.07.5/packages/mipsel_24kc/base
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>src/gz reboot_luci http://mirrors.ustc.edu.cn/openwrt/releases/19.07.5/packages/mipsel_24kc/luci
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>src/gz reboot_packages http://mirrors.ustc.edu.cn/openwrt/releases/19.07.5/packages/mipsel_24kc/packages
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>src/gz reboot_routing http://mirrors.ustc.edu.cn/openwrt/releases/19.07.5/packages/mipsel_24kc/routing
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>src/gz reboot_telephony http://mirrors.ustc.edu.cn/openwrt/releases/19.07.5/packages/mipsel_24kc/telephony
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h1 id="openwrt-安装中文语言包">openwrt 安装中文语言包&lt;/h1>
&lt;p>语言的设置选项在路由的管理界面中 System -&amp;gt; System -&amp;gt; System Properties -&amp;gt; Language and Style -&amp;gt; Language，刚刷完的固件时选项只有英文，其他的需要安装&lt;/p>
&lt;h2 id="自动安装">自动安装&lt;/h2>
&lt;p>在路由的管理页面中 System -&amp;gt; Software，在 Download and install package 旁边的文本框中输入 &lt;code>luci-i18n-base-zh-cn&lt;/code> 点击 OK 系统会自动下载并安装&lt;/p>
&lt;h1 id="参考资料">参考资料&lt;/h1>
&lt;p>&lt;a class="link" href="https://blog.csdn.net/myweishanli/article/details/45331975" target="_blank" rel="noopener"
>OPENWRT安装中文语言包&lt;/a>&lt;br>
&lt;a class="link" href="https://www.zzhyun.com/2020/09/04/178/" target="_blank" rel="noopener"
>OpenWrt之v2ray安装及配置&lt;/a>&lt;br>
&lt;a class="link" href="https://leamtrop.com/2017/05/11/flash-openwrt-squashfs/" target="_blank" rel="noopener"
>小米路由器 mini 刷 OpenWrt/PandoraBox/LEDE&lt;/a>&lt;/p>
&lt;hr>
&lt;h1 id="额外记录">额外记录&lt;/h1>
&lt;h2 id="安装-v2ray">安装 v2ray&lt;/h2>
&lt;p>下载 &lt;a class="link" href="https://github.com/kuoruan/openwrt-v2ray" target="_blank" rel="noopener"
>openwrt-v2ray&lt;/a> 和 &lt;a class="link" href="https://github.com/kuoruan/luci-app-v2ray" target="_blank" rel="noopener"
>luci-app-v2ray&lt;/a>
到本地（其中的 luci-i18n-v2ray-zh-cn 是中文包，看需求下载）&lt;br>
&lt;img src="https://raw.githubusercontent.com/coderqs/wiki_img/master/%E8%AE%BE%E5%A4%87/%E8%B7%AF%E7%94%B1%E5%99%A8/v2ray-core-mini%20%E4%B8%8B%E8%BD%BD%E9%A1%B5%E9%9D%A2.PNG"
loading="lazy"
alt="v2ray-core-mini下载页面"
>
&lt;img src="https://raw.githubusercontent.com/coderqs/wiki_img/master/%E8%AE%BE%E5%A4%87/%E8%B7%AF%E7%94%B1%E5%99%A8/luci-app-v2ray%E4%B8%8B%E8%BD%BD%E9%A1%B5%E9%9D%A2.PNG"
loading="lazy"
alt="luci-app-v2ray下载页面"
>&lt;br>
将下载的文件上传到路由器中，我执行的安装命令是：&lt;/p>
&lt;div class="highlight">&lt;div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>opkg install v2ray-core-mini_4.34.0-1_mipsel_24kc.ipk
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>opkg install luci-app-v2ray_1.5.6_all.ipk
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="遇见的问题">遇见的问题&lt;/h2>
&lt;h3 id="1-verify_pkg_installable-only-have-11312kb-available-on-filesystem-overlay-pkg-v2ray-core-needs-12717">1. verify_pkg_installable: Only have 11312kb available on filesystem /overlay, pkg v2ray-core needs 12717&lt;/h3>
&lt;p>这是因为 &lt;code>/overlay&lt;/code> 分区可用空间不够了。&lt;/p>
&lt;ul>
&lt;li>修改&lt;code>/etc/opkg.conf&lt;/code>，将其中的&lt;code>overlay_root&lt;/code>的值修改为&lt;code>/tmp&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">3
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">4
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>dest root /
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>dest ram /tmp
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>lists_dir ext /var/opkg-lists
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>option overlay_root /tmp
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>option check_signature
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;del>保存文件后再执行安装命令，在安装命令后增加&lt;code>-d ram&lt;/code>的参数&lt;/del>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>opkg install [package] -d ram
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;del>详情可参见&lt;a class="link" href="https://forum.openwrt.org/t/opkg-to-ram-how-to/31172" target="_blank" rel="noopener"
>这里&lt;/a>&lt;/del>。 但&lt;strong>这种方法行不通&lt;/strong>。 -d ram 的选项意思是将软件安装到 &lt;code>/tmp&lt;/code> 路径下，而 &lt;code>/tmp&lt;/code> 则是 &lt;code>tmpfs&lt;/code> 类型的文件系统（这个可以使用 &lt;code>df -h&lt;/code> 可以看到），是存在内存中的，关机之后就没有了。&lt;/p>
&lt;h3 id="2-satisfy_dependencies_for-cannot-satisfy-the-following-dependencies">2. satisfy_dependencies_for: Cannot satisfy the following dependencies&lt;/h3>
&lt;p>查看内核版本的命令 &lt;code>opkg info kernel&lt;/code>&lt;/p>
&lt;blockquote>
&lt;p>快照版本在安装空隙时是否使用官方源有一定的机率出行该问题。
解决的方案是编译阶段就将对应的依赖包安装进去。v2ray并不依赖内核版本&lt;/p>
&lt;p>可以尝试手动安装ip，ipset，iptables-mod-tproxy，dnsmasq-full，resolveip&lt;/p>
&lt;p>然后再安装luci-app-v2ray&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>opkg remove dnsmasq
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>opkg install ip ipset iptables-mod-tproxy dnsmasq-full resolveip
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>opkg install luci-app-v2ray
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="3-info-service-disabled-main-info-transparent-proxy-disabled">3. [info] Service disabled: main [info] Transparent proxy disabled.&lt;/h3>
&lt;div class="highlight">&lt;div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>[info] Service disabled: main
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>[info] Transparent proxy disabled.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这时是已经安装成功了，这提示中的配置可以在 &lt;code>/etc/config/v2ray&lt;/code> 中修改。&lt;/p>
&lt;h3 id="4-module-lucicbi-not-found">4. module &amp;rsquo;luci.cbi&amp;rsquo; not found&lt;/h3>
&lt;p>有说需要&lt;a class="link" href="https://github.com/kuoruan/luci-app-v2ray/issues/42" target="_blank" rel="noopener"
>安装&lt;code>luci-compat&lt;/code>的&lt;code>luci-ap-sqm&lt;/code>可以解决&lt;/a>，但是使用
opkg 安装提示&lt;/p>
&lt;div class="highlight">&lt;div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">3
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-go" data-lang="go">&lt;span style="display:flex;">&lt;span> Unknown &lt;span style="color:#6ab825;font-weight:bold">package&lt;/span> &lt;span style="color:#a61717;background-color:#e3d2d2">&amp;#39;&lt;/span>luci-compat&lt;span style="color:#a61717;background-color:#e3d2d2">&amp;#39;&lt;/span>.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Collected errors:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> * opkg_install_cmd: Cannot install &lt;span style="color:#6ab825;font-weight:bold">package&lt;/span> luci-compat.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;a class="link" href="https://blog.csdn.net/weixin_43274097/article/details/107197717" target="_blank" rel="noopener"
>解决方法&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>opkg update
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>opkg install luci luci-base luci-compat
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="5">5.&lt;/h3>
&lt;div class="highlight">&lt;div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">3
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-go" data-lang="go">&lt;span style="display:flex;">&lt;span> Collected errors:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> * satisfy_dependencies_for: Cannot satisfy the following dependencies &lt;span style="color:#6ab825;font-weight:bold">for&lt;/span> v2ray-core:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> * ca-certificates
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> * opkg_install_cmd: Cannot install &lt;span style="color:#6ab825;font-weight:bold">package&lt;/span> v2ray-core.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>执行 &lt;code>opkg update&lt;/code> 后再安装一下&lt;/p>
&lt;h4 id="参考资料-1">参考资料&lt;/h4>
&lt;p>&lt;a class="link" href="https://www.haiyun.me/archives/1075.html" target="_blank" rel="noopener"
>编译Openwrt固件安装软件内核版本不一致问题解决&lt;/a>&lt;br>
&lt;a class="link" href="https://github.com/kuoruan/luci-app-v2ray/issues/116" target="_blank" rel="noopener"
>OpenWRT内核不符合依赖&lt;/a>&lt;/p></description></item></channel></rss>