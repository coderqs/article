<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>方法探索 on 清松小站</title><link>https://coderqs.github.io/tags/%E6%96%B9%E6%B3%95%E6%8E%A2%E7%B4%A2/</link><description>Recent content in 方法探索 on 清松小站</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Mon, 11 Mar 2019 00:00:00 +0800</lastBuildDate><atom:link href="https://coderqs.github.io/tags/%E6%96%B9%E6%B3%95%E6%8E%A2%E7%B4%A2/index.xml" rel="self" type="application/rss+xml"/><item><title>编译机环境管理方法</title><link>https://coderqs.github.io/2019/03/%E7%BC%96%E8%AF%91%E6%9C%BA%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86%E6%96%B9%E6%B3%95/</link><pubDate>Mon, 11 Mar 2019 00:00:00 +0800</pubDate><guid>https://coderqs.github.io/2019/03/%E7%BC%96%E8%AF%91%E6%9C%BA%E7%8E%AF%E5%A2%83%E7%AE%A1%E7%90%86%E6%96%B9%E6%B3%95/</guid><description>&lt;h1 id="编译机环境管理方法">编译机环境管理方法&lt;/h1>
&lt;h2 id="以用户的方式管理">以用户的方式管理&lt;/h2>
&lt;h3 id="说明">说明&lt;/h3>
&lt;ol>
&lt;li>创建一个&lt;code>compiler&lt;/code>用户
&lt;ul>
&lt;li>这个用户用于系统默认编译器的的编译&lt;/li>
&lt;li>该用户的家目录下存放所有代码&lt;/li>
&lt;li>&lt;strong>所有添加的其他编译用户都处于&lt;code>compiler&lt;/code>中户组&lt;/strong>（给&lt;code>compiler&lt;/code>设置 SGID 可以使其下面的文件夹都默认处于&lt;code>compiler&lt;/code>组里）&lt;/li>
&lt;li>&lt;strong>该用户家目录的所有代码都要给组用户写权限&lt;/strong>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>创建用户，以 NDK 为例，&lt;code>%%android-ndk-r13b-linux-x86_64&lt;/code> 对应的用户名 &lt;code>android-ndk-r13&lt;/code>&lt;/li>
&lt;li>将编译器安装在对应的用户家目录中&lt;/li>
&lt;li>将需要的环境变量配置在用户的&lt;code>.bash_prefile&lt;/code>中&lt;/li>
&lt;li>配置&lt;code>umask&lt;/code>，给组与用户同样的权限&lt;/li>
&lt;/ol>
&lt;h3 id="优缺点">优缺点&lt;/h3>
&lt;h4 id="优点">优点&lt;/h4>
&lt;p>可以使不同的编译环境隔离开，不会相互影响，也方便维护&lt;/p>
&lt;h4 id="缺点">缺点&lt;/h4>
&lt;p>代码集中在&lt;code>compiler&lt;/code>用户的家目录下，丧失对代码的权限管理。&lt;/p>
&lt;h3 id="演示配置-android-ndk-r13-用户">演示配置 android-ndk-r13 用户&lt;/h3>
&lt;div class="highlight">&lt;div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">3
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>adduser android-ndk-r13 -g compiler
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">echo&lt;/span> &lt;span style="color:#ed9d13">&amp;#34;umask 002&amp;#34;&lt;/span> &amp;gt;&amp;gt; /home/android-ndk-r13/.bashrc
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>su - android-ndk-r13
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>unzip android-ndk-r13b-linux-x86_64.zip
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="配置环境变量">配置环境变量&lt;/h4>
&lt;p>在&lt;code>~/bash_prefile&lt;/code>中添加下面&lt;/p>
&lt;div class="highlight">&lt;div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 3
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 4
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 5
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 6
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 7
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 8
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 9
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">10
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">11
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">12
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">13
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">14
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">15
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">16
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">17
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">18
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">19
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">20
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">21
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">22
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">NDKROOT&lt;/span>=/home/android-ndk-r13/android-ndk-r13b
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">PATH&lt;/span>=&lt;span style="color:#40ffff">$NDKROOT&lt;/span>:&lt;span style="color:#40ffff">$PATH&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#40ffff">INSTALLATION_PATH&lt;/span>=/home/output/android-ndk-r13
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">prefix&lt;/span>=&lt;span style="color:#40ffff">$INSTALLATION_PATH&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">ANDROID_HOME&lt;/span>=~/android-ndk-r13b
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">TOOLCHAIN&lt;/span>=&lt;span style="color:#40ffff">$ANDROID_HOME&lt;/span>/android-toolchain
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">CROSS_SYSROOT&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/sysroot
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">PATH&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/bin:&lt;span style="color:#40ffff">$PATH&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">TOOL&lt;/span>=arm-linux-androideabi
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">CC&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/bin/&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">TOOL&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>-gcc
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">CXX&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/bin/&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">TOOL&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>-g++
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">LINK&lt;/span>=&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">CXX&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">LD&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/bin/&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">TOOL&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>-ld
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">AR&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/bin/&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">TOOL&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>-ar
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">RANLIB&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/bin/&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">TOOL&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>-ranlib
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">STRIP&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/bin/&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">TOOL&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>-strip
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">ARCH_FLAGS&lt;/span>=&lt;span style="color:#ed9d13">&amp;#34;-mthumb&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">ARCH_LINK&lt;/span>=
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">CFLAGS&lt;/span>=&lt;span style="color:#ed9d13">&amp;#34;&lt;/span>&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">ARCH_FLAGS&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>&lt;span style="color:#ed9d13"> -fpic -ffunction-sections -funwind-tables -fstack-protector -fno-strict-aliasing -finline-limit=64&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">CXXFLAGS&lt;/span>=&lt;span style="color:#ed9d13">&amp;#34;&lt;/span>&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">CFLAGS&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>&lt;span style="color:#ed9d13"> -frtti -fexceptions&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">LDFLAGS&lt;/span>=&lt;span style="color:#ed9d13">&amp;#34;&lt;/span>&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">ARCH_LINK&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>&lt;span style="color:#ed9d13">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="配置文件的方式管理">配置文件的方式管理&lt;/h2>
&lt;h3 id="说明-1">说明&lt;/h3>
&lt;p>将编译环境所需的配置写在文件中，需要加载编译环境时使用 &lt;code>source&lt;/code> 加载配置文件来导入编译环境。&lt;/p>
&lt;h3 id="优缺点-1">优缺点&lt;/h3>
&lt;p>该方法较方便的导入编译环境，但是切换环境时旧的环境依旧会保留下来，可能会产生干扰，但是这种方法用在编译脚本中会比较好。&lt;/p>
&lt;h3 id="示例">示例&lt;/h3>
&lt;p>同样以配置 android-ndk-r13 为例。&lt;/p>
&lt;h4 id="添加配置文件">添加配置文件&lt;/h4>
&lt;p>创建 &lt;code>/opt/android-ndk/env/&lt;/code> 目录，添加文件 &lt;code>ndk-r13-arm64-api21&lt;/code>，在文件中添加下面内容&lt;/p>
&lt;div class="highlight">&lt;div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 1
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 2
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 3
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 4
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 5
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 6
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 7
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 8
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868"> 9
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">10
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">11
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">12
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">13
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">14
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">15
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">16
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">17
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">18
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">19
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">20
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">21
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">22
&lt;/span>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">NDKROOT&lt;/span>=/opt/android-ndk/android-ndk-r13b
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">PATH&lt;/span>=&lt;span style="color:#40ffff">$NDKROOT&lt;/span>:&lt;span style="color:#40ffff">$PATH&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#40ffff">INSTALLATION_PATH&lt;/span>=~/output/android-ndk-r13
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">prefix&lt;/span>=&lt;span style="color:#40ffff">$INSTALLATION_PATH&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">ANDROID_HOME&lt;/span>=&lt;span style="color:#40ffff">$NDKROOT&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">TOOLCHAIN&lt;/span>=&lt;span style="color:#40ffff">$ANDROID_HOME&lt;/span>/android-toolchain
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">CROSS_SYSROOT&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/sysroot
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">PATH&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/bin:&lt;span style="color:#40ffff">$PATH&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">TOOL&lt;/span>=arm-linux-androideabi
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">CC&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/bin/&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">TOOL&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>-gcc
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">CXX&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/bin/&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">TOOL&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>-g++
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">LINK&lt;/span>=&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">CXX&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">LD&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/bin/&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">TOOL&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>-ld
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">AR&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/bin/&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">TOOL&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>-ar
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">RANLIB&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/bin/&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">TOOL&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>-ranlib
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">STRIP&lt;/span>=&lt;span style="color:#40ffff">$TOOLCHAIN&lt;/span>/bin/&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">TOOL&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>-strip
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">ARCH_FLAGS&lt;/span>=&lt;span style="color:#ed9d13">&amp;#34;-mthumb&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">ARCH_LINK&lt;/span>=
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">CFLAGS&lt;/span>=&lt;span style="color:#ed9d13">&amp;#34;&lt;/span>&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">ARCH_FLAGS&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>&lt;span style="color:#ed9d13"> -fpic &amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">CXXFLAGS&lt;/span>=&lt;span style="color:#ed9d13">&amp;#34;&lt;/span>&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">CFLAGS&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>&lt;span style="color:#ed9d13"> -frtti -fexceptions&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#24909d">export&lt;/span> &lt;span style="color:#40ffff">LDFLAGS&lt;/span>=&lt;span style="color:#ed9d13">&amp;#34;&lt;/span>&lt;span style="color:#ed9d13">${&lt;/span>&lt;span style="color:#40ffff">ARCH_LINK&lt;/span>&lt;span style="color:#ed9d13">}&lt;/span>&lt;span style="color:#ed9d13">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>保存即可，当需要切换环境时执行&lt;/p>
&lt;div class="highlight">&lt;div style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
&lt;table style="border-spacing:0;padding:0;margin:0;border:0;">&lt;tr>&lt;td style="vertical-align:top;padding:0;margin:0;border:0;">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code>&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#686868">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
&lt;pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-fallback" data-lang="fallback">&lt;span style="display:flex;">&lt;span>source /opt/android-ndk/env/ndk-r13-arm64-api21
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="参考资料">参考资料&lt;/h3>
&lt;p>&lt;a class="link" href="https://blog.csdn.net/u010554294/article/details/88996397" target="_blank" rel="noopener"
>linux下如何实现不同的用户对同一文件都有写权限&lt;/a>&lt;br>
&lt;a class="link" href="https://www.cnblogs.com/qiuhom-1874/p/9838468.html" target="_blank" rel="noopener"
>Linux系统之文件的SUID、SGID、Sticky权限说明&lt;/a>&lt;/p></description></item><item><title>软件版本的管理方法</title><link>https://coderqs.github.io/2019/03/%E8%BD%AF%E4%BB%B6%E7%89%88%E6%9C%AC%E7%9A%84%E7%AE%A1%E7%90%86%E6%96%B9%E6%B3%95/</link><pubDate>Mon, 11 Mar 2019 00:00:00 +0800</pubDate><guid>https://coderqs.github.io/2019/03/%E8%BD%AF%E4%BB%B6%E7%89%88%E6%9C%AC%E7%9A%84%E7%AE%A1%E7%90%86%E6%96%B9%E6%B3%95/</guid><description>&lt;h1 id="软件版本的管理方法">软件版本的管理方法&lt;/h1></description></item></channel></rss>